(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(7),i=c.n(n),r=(c(12),c(6)),l=c(2),j=(c.p,c(0));function d(e){var t=e.tweet,c=e.action,a=Object(s.useState)(t.likes?t.likes:0),n=Object(l.a)(a,2),i=n[0],r=n[1],d=Object(s.useState)(!0===t.userLike),o=Object(l.a)(d,2),b=o[0],m=o[1],u=c.display?c.display:"Action",O="like"===c.type?"".concat(u):u,x=function(e){e.preventDefault(),"like"===c.type&&(!0===b?(r(i-1),m(!1)):(r(i+1),m(!0)))};return"like"===c.type?Object(j.jsxs)("a",{onClick:x,children:[Object(j.jsx)("i",{className:O}),Object(j.jsx)("small",{children:i})]}):Object(j.jsxs)("a",{onClick:x,children:[Object(j.jsx)("i",{className:O}),Object(j.jsx)("small",{})]})}var o=function(e){var t=e.tweet;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"d-lg-flex align-items-center justify-content-between",children:Object(j.jsxs)("div",{className:"d-flex align-items-center mb-4 mb-lg-0",children:[Object(j.jsx)("img",{src:"/avatar.jpg",id:"img-uploaded",className:"avatar-lg rounded-circle",alt:""}),Object(j.jsxs)("div",{className:"ml-3",children:[Object(j.jsxs)("h4",{className:"mb-0",children:["Nickname ",Object(j.jsxs)("small",{style:{color:"grey"},children:["@username ",t.timestamp]})]}),Object(j.jsx)("p",{className:"mb-0",id:"tweet-{tweet.id}",children:t.content}),Object(j.jsxs)("div",{className:"btn-group d-flex",style:{cursor:"pointer"},children:[Object(j.jsx)("div",{children:Object(j.jsx)(d,{tweet:t,action:{type:"like",display:"fe fe-heart mr-1 text-primary"}})}),Object(j.jsx)("div",{className:"ml-3",children:Object(j.jsx)(d,{tweet:t,action:{type:"retweet",display:"fe fe-refresh-ccw mr-1 text-primary"}})})]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"})]})};function b(e){var t=a.a.createRef(),c=Object(s.useState)([]),n=Object(l.a)(c,2),i=n[0],d=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"d-lg-flex align-items-center justify-content-between",children:Object(j.jsxs)("div",{className:"d-flex align-items-center mb-4 mb-lg-0",children:[Object(j.jsx)("img",{src:"%PUBLIC_URL%/assets/images/avatar/avatar.jpg",id:"img-uploaded",className:"avatar-xl rounded-circle",alt:""}),Object(j.jsxs)("div",{className:"ml-3",children:[Object(j.jsx)("div",{className:"d-none alert alert-danger",id:"tweet-create-form-error"}),Object(j.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var c=t.current.value,s=Object(r.a)(i);s.unshift({content:c,likes:0,id:123,timestamp:"today"}),d(s),t.current.value=""},method:"POST",id:"tweet-create-form",encType:"multipart/form-data",children:[Object(j.jsx)("textarea",{ref:t,name:"tweet",maxLength:"",required:!0,placeholder:"What's happening?",className:"form-control",id:"",cols:"150",rows:"3"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-primary btn-sm",children:"Tweet"})})]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)(m,{tweets:i})]})}function m(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)([]),d=Object(l.a)(i,2),b=d[0],m=d[1];return Object(s.useEffect)((function(){var t=Object(r.a)(e.tweets).concat(a);t.length!==b.length&&m(t)}),[e.tweets,b,a]),Object(s.useEffect)((function(){!function(e){var t=new XMLHttpRequest;t.responseType="json",t.open("GET","http://127.0.0.1:8000/api/tweets/"),t.onload=function(){e(t.response,t.status)},t.onerror=function(t){console.log(t),e({message:"The request was an error."},400)},t.send()}((function(e,t){console.log(e,t),200===t&&n(e)}))}),[]),Object(j.jsx)("div",{id:"tweets",children:b.map((function(e,t){return Object(j.jsx)(o,{tweet:e},"".concat(t,"-{item.id}"))}))})}var u=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"py-lg-6 py-4 bg-primary",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-12",children:Object(j.jsx)("div",{children:Object(j.jsx)("h1",{className:"text-white display-4 mb-0",children:"Welcome to TweetMe!"})})})})})}),Object(j.jsx)("div",{className:"py-6",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(b,{})})})})})]})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(u,{})}),document.getElementById("root")),O()}},[[14,1,2]]]);
//# sourceMappingURL=main.4a254184.chunk.js.map